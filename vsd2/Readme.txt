・VSD ハングアップ→リセット を Android 側から認識
・通信途絶を ARM/Android で認識できるか?
  ・Android 側から定期的にビーコン送信
  ・ARM 側はビーコンタイムアップでリセット
  ・リセット後は 0xFF を送信しまくる
  ・Android 側はレコード長 0 ならファーム再ロード
  ・LoadSRecord 中におかしくなると復活できない
・通信途絶時→再開後のログ時間整合性
・LED 状態
  初期化中		: off
  実行開始 (未接続)	: 常時点灯
  接続中		: 点滅
  LoadS 中		: 点灯
・スピードパルス数 = 0 の時に仮に求める速度が
  前回の速度より速い場合，仮結果は捨てる

・SD カード上のファームを SRAM にロード
・割り込み? DMA? を利用した SD カード R/W
・SD カード挿入検出
・USB 再初期化

----------------------------
車速・タコ -> 5V-tolerant	4pin
アクセル→抵抗分割		6pin
G センサ→不要
lap shot -> open drain		Φ1.5 jack
wifi→もとから3.3V		4pin?

・その他 I/F
SD カード
リセット SW
input sw * 1
led output * 4

●
・TSC→RTC 32bit
・tacho/spd → 入力キャプチャで行ける? TIM2,3
・磁気センサー → TSC+GPIO 割込み or タイマx2 入力キャプチャ
・AD と G はメインループで加算平均
・SD から FW ロード (できないかも)
  PIO でもいいかも
・SD 書き込み (できないかも)
  バッファ分たまったら (4KB くらい?) DMA
・1/16 秒ごとにシリアル出力 UART or SPI(WiFi)
----------------------------

●.s19→.dfu 変換はなぜか Win7 で失敗したので，WinXP で実行する

●リンカスクリプトの修正
・Flash 版を make して，SRAM 使用量を調べ，
  STM32F10x_*.icf のコメント中の数値を修正する
